!function(){"use strict";function t(t,e,n){var i,h,u,s,o;if(this.data=t,this.query=e,this.filter=n,o=this._lookup(e[e.length-1],!0),this.currentNode=o.node,this.currentIndex=0,this.queue=[],this._enqueueChildren(o.unmatched),this.end=!1,this.matchSet=null,e.length>1)for(this.matchSet={},i=0;i<e.length-1;++i){if(u=this._lookup(e[i]),!u)return this.matchSet=null,void(this.end=!0);for(u=u.node,h=0;h<u[r].length;++h)s=u[r][h],this.matchSet[s]=this.matchSet[s]||0,this.matchSet[s]+=1}}function e(t){return this.items[t]}function n(e,n){return e=e.toLowerCase().split(" "),e=e.filter(function(t){return!!t.length}),new t(this,e,n)}var i,r=" items";t.prototype._enqueueChildren=function(t){var e=[];for(var n in this.currentNode)this.currentNode.hasOwnProperty(n)&&e.push(n);t&&(e=e.filter(function(e){return 0===e.indexOf(t)})),e.sort();for(var i=0;i<e.length;++i)" "!==e[i][0]&&this.queue.push(this.currentNode[e[i]])},t.prototype._lookup=function(t,e){for(var n=this.data.index,i=t;i.length;){var r=!1;for(var h in n)if(" "!==h[0]&&n.hasOwnProperty(h)&&0===i.indexOf(h)){i=i.substr(h.length),n=n[h],r=!0;break}if(!r)return e?{node:n,unmatched:i}:null}return{node:n,unmatched:i}},t.prototype.next=function(){var t,e;if(this.end)return null;for(;this.currentIndex<this.currentNode[r].length;)if(t=this.currentNode[r][this.currentIndex],this.currentIndex+=1,(null===this.matchSet||this.matchSet[t]>=this.query.length-1)&&(e=this.data.items[t],!this.filter||this.filter(e)))return e;return this.currentIndex>=this.currentNode[r].length?0===this.queue.length?(this.end=!0,null):(this.currentNode=this.queue.shift(),this._enqueueChildren(),this.currentIndex=0,this.next()):void 0},t.prototype.remaining=function(){for(var t,e=[];t=this.next();)e.push(t);return e},i=i||function(t){this.uid=t.uid,this.title=t.title,this.index=t.index,this.items=t.items};var h=i;h.prototype.get=e,h.prototype.search=n,"function"==typeof define&&define.amd?define(function(){return h}):"object"==typeof exports?module.exports=h:window.RadDog=h}();